!function(){"use strict";angular.module("newscache",["ngRoute","ui.bootstrap","ngMessages","wu.masonry","ngStomp","ui.router","ngCookies","newscache.config","newscache.service","newscache.controller","newscache.route","newscache.directive","newscache.templates"]).config(["$locationProvider",function(e){}])}(),function(){"use strict";angular.module("newscache.config",[])}(),function(){"use strict";angular.module("newscache.service",["newscache.navbar.service","newscache.storyModal.service","newscache.session.service","newscache.login.service","newscache.home.service"])}(),function(){"use strict";function e(e,n,t){function o(){function t(e){return e}function o(e){return console.log(e),n.reject(e)}return e("./api/navbar_search/load",{},{execute:{method:"GET",isArray:!0}}).execute().$promise.then(t)["catch"](o)}function c(o){function c(e){console.log(e),t.path("/interest").search({param:e.name})}function r(e){return console.log(e),n.reject(e)}return console.log("In service"),console.log(o),e("./api/navbar_search/search/"+o,{},{execute:{method:"GET"}}).execute().$promise.then(c)["catch"](r)}return{loadInterests:o,findInterest:c}}angular.module("newscache.navbar.service",["ngResource"]).factory("NavbarService",e),e.$inject=["$resource","$q","$location"]}(),function(){"use strict";function e(e,n){function t(t){function o(e){return e}function c(e){return console.log(e),n.reject(e)}return e("./api/navbar_search/search/"+t,{},{execute:{method:"GET"}}).execute().$promise.then(o)["catch"](c)}function o(t){function o(e){return e}function c(e){return console.log(e),n.reject(e)}return e("./api/interest/load/"+t,{},{execute:{method:"GET",isArray:!0}}).execute().$promise.then(o)["catch"](c)}return{findInterest:t,loadStories:o}}angular.module("newscache.service.interest",["ngResource"]).factory("InterestService",e),e.$inject=["$resource","$q"]}(),function(){"use strict";function e(e,n){function t(t){function o(e){return e}function c(e){return console.log(e),n.reject(e)}return e("./api/comment/load/"+t,{},{execute:{method:"GET",isArray:!0}}).execute().$promise.then(o)["catch"](c)}function o(t){function o(e){return e}function c(e){return console.log(e),n.reject(e)}return e("./api/comment/save",{},{execute:{method:"POST"}}).execute(t).$promise.then(o)["catch"](c)}return{loadComments:t,saveComment:o}}angular.module("newscache.storyModal.service",["ngResource"]).factory("StoryModalService",e),e.$inject=["$resource","$q"]}(),function(){"use strict";function e(e,n,t,o){function c(e,c){return o.login(e,c).then(function(){t.path("/home")})["catch"](function(e){return console.log("In login service"),n.reject(e)})}return{login:c}}angular.module("newscache.login.service",["ngResource","newscache.session.service"]).factory("LoginService",e),e.$inject=["$resource","$q","$location","SessionService"]}(),function(){"use strict";function e(e,n){function t(t,o){function c(e){return s=!0,e}function r(e){return console.log(e+"In session service"),n.reject(e)}var i={authorization:"Basic "+btoa(t+":"+o)};return e("./api/login",{},{execute:{method:"GET",headers:i}}).execute().$promise.then(c)["catch"](r)}function o(){function t(e){return s=!1,e}function o(e){return console.log(e+"In session service"),n.reject(e)}return e("./logout",{},{execute:{method:"GET"}}).execute().$promise.then(t)["catch"](o)}function c(){return s}function r(){function t(e){return e}function o(e){return n.reject(e)}return e("./api/user",{},{execute:{method:"GET"}}).execute().$promise.then(t)["catch"](o)}var s=!1;return{login:t,logout:o,isLoggedIn:c,getCurrentUser:r}}angular.module("newscache.session.service",["ngResource"]).factory("SessionService",e),e.$inject=["$resource","$q"]}(),function(){"use strict";function e(e,n,t){return{}}angular.module("newscache.home.service",["ngResource"]).factory("HomeService",e),e.$inject=["$resource","$q","$location"]}(),function(){"use strict";angular.module("newscache.controller",["newscache.controller.navbar","newscache.controller.interest","newscache.controller.storyModal","newscache.controller.login","newscache.controller.home"])}(),function(){"use strict";function e(e,n,t,o,c){function r(){return u()?void 0:s().then(function(){console.log("Loaded the interests")})["catch"](function(){console.log("Error loading interests")})}function s(){return e.loadInterests().then(function(e){h.interestList=e})["catch"](function(e){h.errors=e})}function i(){return c.logout().then(function(){o.path("/login")})["catch"](function(e){h.errors=e})}function u(){return angular.equals(o.path(),"/login")?!0:!1}function a(e,n){return e.substr(0,n.length).toLowerCase()==n.toLowerCase()}function l(){return e.findInterest(h.interest)["catch"](function(e){h.errors=e})}var h=this;h.startsWith=a,h.search=l,h.logout=i,h.interest="",h.interestList=[],h.errors={},h.visible=!0,r(),t.$watch("$location.path()",function(){u()?h.visible=!1:h.visible=!0})}angular.module("newscache.controller.navbar",["newscache.session.service","newscache.navbar.service"]).controller("NavbarController",e),e.$inject=["NavbarService","$q","$scope","$location","SessionService"]}(),function(){"use strict";function e(e,n,t,o,c){function r(){return s().then(function(){return console.log("Loaded the interest"),n.resolve()}).then(u)["catch"](function(e){l.errors=e})}function s(){return e.findInterest(l.interestName).then(function(e){l.interest=e,console.log(l.interest)})["catch"](function(e){l.errors=e})}function i(e){return e.replace(/\s+/g,"").toLowerCase()}function u(){return e.loadStories(l.interestName).then(function(e){l.storyList.stories=e,console.log(l.storyList),l.isDataLoaded=!0})["catch"](function(e){l.errors=e})}function a(e){l.storyModal=c.open({templateUrl:"newscache/template/storyModal.html",controller:"StoryModalController",controllerAs:"vm",windowClass:"my-dialog",resolve:{story:function(){return e}},animation:!0})}var l=this;l.interestName=o.param,l.interest={},l.errors={},l.storyList={stories:[]},l.isDataLoaded=!1,l.storyModal={},l.popUp=a,l.convert=i,r()}angular.module("newscache.controller.interest",["newscache.service.interest"]).controller("InterestController",e),e.$inject=["InterestService","$q","$scope","$routeParams","$uibModal"]}(),function(){"use strict";function e(e,n,t,o,c){function r(){return s().then(function(){console.log("loaded the comments")})["catch"](function(e){console.log(e)})}function s(){return t.loadComments(a.story.title).then(function(e){a.comments=e})["catch"](function(e){console.log(e)})}function i(){return a.commentDto.storyTitle=a.story.title,a.commentDto.storyComment=a.storyComment,a.commentDto.username=a.username,t.saveComment(a.commentDto)["catch"](function(e){console.log(e)})}function u(){e.close("ok")}var a=this;a.story=n,a.storyComment="",a.comments=[],a.username="nischayv",a.storyTitle="",a.commentDto={storyTitle:"",username:"",storyComment:""},a.closeStory=u,a.save=i,r(),c.connect("/newscache/stomp").then(function(){c.subscribe("/out/message",function(e){a.comments.push(e),o.$apply()})})}angular.module("newscache.controller.storyModal",[]).controller("StoryModalController",e),e.$inject=["$uibModalInstance","story","StoryModalService","$scope","$stomp"]}(),function(){"use strict";function e(e,n){function t(){return e.login(c.username,c.password)["catch"](function(e){console.log(e)})}function o(){console.log(n.isLoggedIn())}var c=this;c.username="",c.password="",c.submit=t,o()}angular.module("newscache.controller.login",["newscache.login.service","newscache.session.service"]).controller("LoginController",e),e.$inject=["LoginService","SessionService"]}(),function(){"use strict";function e(e,n){function t(){console.log(n.isLoggedIn())}var o=this;o.activate=t,t()}angular.module("newscache.controller.home",["newscache.home.service","newscache.session.service"]).controller("HomeController",e),e.$inject=["HomeService","SessionService"]}(),function(){"use strict";angular.module("newscache.route",["newscache.route.interest","newscache.route.login","newscache.route.home"])}(),function(){"use strict";function e(e,n){e.when("/interest",{templateUrl:"newscache/template/interest.html",controller:"InterestController",controllerAs:"vm"}),n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}angular.module("newscache.route.interest",["ngRoute","newscache.controller.interest","newscache.templates"]).config(e),e.$inject=["$routeProvider","$httpProvider"]}(),function(){"use strict";function e(e,n,t){e.when("/login",{templateUrl:"newscache/template/login.html",controller:"LoginController",controllerAs:"vm"}),n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}angular.module("newscache.route.login",["ngRoute","newscache.controller.login","newscache.templates"]).config(e),e.$inject=["$routeProvider","$httpProvider","$cookiesProvider"]}(),function(){"use strict";function e(e,n,t){e.when("/home",{templateUrl:"newscache/template/home.html",controller:"HomeController",controllerAs:"vm"}),n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}angular.module("newscache.route.home",["ngRoute","newscache.controller.home","newscache.templates"]).config(e),e.$inject=["$routeProvider","$httpProvider","$cookiesProvider"]}(),function(){"use strict";angular.module("newscache.directive",["newscache.directive.navbar","newscache.directive.back_img"])}(),function(){"use strict";function e(e){return{restrict:"AE",templateUrl:"newscache/template/navbar.html",controller:"NavbarController",controllerAs:"vm"}}angular.module("newscache.directive.navbar",["newscache.controller.navbar","newscache.templates"]).directive("navbarDirective",e),e.$inject=["$location"]}(),function(){"use strict";function e(e){return{restrict:"AE",scope:{url:"="},link:function(n,t){e(function(){t.css("background-image","url('./img/"+n.url+".jpg')")},0)}}}angular.module("newscache.directive.back_img",[]).directive("backImgDirective",e),e.$inject=["$timeout"]}();
//# sourceMappingURL=all.min.js.map
